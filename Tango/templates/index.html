{% extends "base.html" %}
{% block content %}
<div class="container-sm tango-pixels" >  
     <img src="../static/img/Tango-2.png"  style="margin-left: 10%;" class="d-block w-75" alt="competative-image">
  </div>

  <!-- ------------- Heading -------------- -->
  <div id="Main-Carousel" class="container-md">
    <div class="Popular-heading col-12 d-flex justify-content-center">
      <h1 class="Popular">Popular</h1>
    </div>


 <!-- ------------- CAROSEL -------------- -->

 <!-- ------------- CAROSEL -------------- -->
    <div id="carousel" class="col-flex">
        <div id="carouselAutoplaying" class="carousel slide" style="justify-content: center;" data-bs-ride="carousel">
                <div class="carousel-inner">
                  
                  <!-- ------------- CAROSEL 1 -------------- -->
                  <div class="carousel-item active" data-bs-interval="100000">
                    <div class="cards-wrapper">
                    
                        {% for event in events[0:3] %}
                        <div id="competative-card" class="card card-main collapse show">
                            <img src={{'../static/img/' + event.image}} class="card-img-top">
                            <div class="card-body" style="background-color: transparent;">
                            <h5 class="card-title">{{event.title}}</h5>
                            <p class="card-text d-none d-lg-block">{{event.description}}</p>
                            </div>
                            <a href="{{url_for('main.eventDetails', event_id=event.id)}}" class="stretched-link"></a>
                        </div>
                        {% endfor %}

                    </div>
                  </div>

                  <!-- ------------- CAROSEL 2 -------------- -->
                  <div class="carousel-item" data-bs-interval="100000"> 
                    <div class="cards-wrapper">
                      
                    <!-- TO DO dynamic 3 card content  -->
                    {% for event in events[3:6] %}
                        <div id="competative-card" class="card card-main collapse show">
                            <img src={{'../static/img/' + event.image}} class="card-img-top">
                            <div class="card-body" style="background-color: transparent;">
                            <h5 class="card-title">{{event.title}}</h5>
                            <p class="card-text d-none d-lg-block">{{event.description}}</p>
                            </div>
                            <a href="{{url_for('main.eventDetails', event_id=event.id)}}" class="stretched-link"></a>
                        </div>
                        {% endfor %}

                    </div>
                  </div>
                
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselAutoplaying" data-bs-slide="prev">
                  <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselAutoplaying" data-bs-slide="next">
                  <span class="carousel-control-next-icon" aria-hidden="true"></span>
                  <span class="visually-hidden">Next</span>
                </button>
          </div>
    </div>
  </div>

<div class="container-sm col-12 d-flex justify-content-center mt-5">
  <form class="row g-2 justify-content-center mb-4"
        method="get"
        action="{{ url_for('main.landing') }}"
        style="max-width: 900px; width: 100%;">
    
    <div class="col-md-5">
      <input type="search" name="q" class="form-control"
             placeholder="Search title, description, or locationâ€¦"
             value="{{ q or '' }}">
    </div>

    <div class="col-md-3">
      <select name="category" class="form-select">
        <option value="all" {{ 'selected' if category=='all' else '' }}>All categories</option>
        <option value="casual" {{ 'selected' if category=='casual' else '' }}>Casual</option>
        <option value="competative" {{ 'selected' if category=='competative' else '' }}>Competative</option>
        <option value="social" {{ 'selected' if category=='social' else '' }}>Social</option>
      </select>
    </div>

    <div class="col-md-3">
      <select name="status" class="form-select">
        <option value="all" {{ 'selected' if status=='all' else '' }}>Any status</option>
        <option value="available" {{ 'selected' if status=='available' else '' }}>Available</option>
        <option value="low" {{ 'selected' if status=='low' else '' }}>Low availability</option>
        <option value="soldout" {{ 'selected' if status=='soldout' else '' }}>Sold Out</option>
      </select>
    </div>

    <div class="col-12 d-flex align-items-center justify-content-center gap-3 mt-2">
      <div class="form-check">
        <input class="form-check-input" type="checkbox" id="onlyOpen"
               name="only_open" value="1" {{ 'checked' if only_open=='1' else '' }}>
        <label class="form-check-label" for="onlyOpen">Only show available</label>
      </div>
      <button type="submit" class="btn btn-primary">Filter</button>
      {% if q or category!='all' or status!='all' or only_open=='1' %}
        <a class="btn btn-outline-secondary" href="{{ url_for('main.landing') }}">Clear</a>
      {% endif %}
    </div>
  </form>
</div>


  </div>

  <div class="container-lg d-none d-md-block  d-inline">
    
    <div class="row justify-content-center">


      <!-- TO DO dynamic card bulk content -->  

      {% for event in events %}
      <div id="competative-card" class="card card-main collapse show">
        <img src={{'../static/img/' + event.image}} class="card-img-top" alt="..." style="max-height: 190px;">
          <div class="card-body" style="background-color: transparent;">
            <h5 class="card-title">{{event.title}}</h5>
          </div>
          <ul class="list-group list-group-flush">
            <li class="list-group-item list-group-item-main">
              <svg xmlns="http://www.w3.org/2000/svg" width="50" height="30" fill="green" class="bi bi-dot" viewBox="0 0 16 16">
                <path d="M8 9.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3"/>
              </svg> {{event.status}}
            </li>
          </ul>
          <a href="{{url_for('main.eventDetails', event_id=event.id)}}" class="stretched-link"></a>
      </div>
       {% endfor %}
    
    </div>
  </div>

  </div>
{% endblock %}